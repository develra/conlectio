/******/!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}// webpackBootstrap
/******/
var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e["default"]:e},a=i(n(1)),s=i(n(2)),r=i(n(3));angular.module("conlect",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ui.router","ui.bootstrap","ngFileUpload","ngDraggable","smart-table"]).factory("Shared_Data",function(){return[]}).controller("NavbarCtrl",a).controller("SidebarCtrl",s).controller("PreviewCtrl",r).filter("unique",function(){return function(e,t){var n,i={},a=e.length,s=[];for(n=0;a>n;n+=1)i[e[n][t]]=e[n];for(n in i)s.push(i[n]);return s}}).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("home",{url:"/",templateUrl:"app/main/main.html"}),t.otherwise("/")}])},function(e){"use strict";var t=function(){function e(e,t){for(var n in t){var i=t[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(e,t)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(t){n(this,e),this.orgName="Conlect",this.livingFileName="conlect",this.extensions=[".csv",".json"],this.selectedExtension=".csv",this.fileList=t}return t(e,{download:{value:function(){for(var e=[],t=0;t<this.fileList[0].data.length;t++){e[t]="";for(var n=0;n<this.fileList.length;n++)1==this.fileList[n].active&&(e[t]+=this.fileList[n].data[t]+",");e[t]=e[t].substring(0,e[t].length-1)}var i=e.join("\r\n"),a=document.createElement("a");a.href="data:attachment/csv;charset=utf-8,"+encodeURIComponent(i),a.target="_blank",a.download=this.livingFileName+this.selectedExtension,document.body.appendChild(a),a.click()}},test:{value:function(){console.log(this.selectedExtension)}}}),e}();i.$inject=["Shared_Data"],e.exports=i},function(e){"use strict";var t=function(){function e(e,t){for(var n in t){var i=t[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(e,t)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(t,i){n(this,e),this.filesIn=[],this.fileList=i;for(var a in sessionStorage)this.fileList.push(JSON.parse(sessionStorage.getItem(a)));this.fileList=i}return t(e,{handleFiles:{value:function(e){if(window.FileReader)for(var t=0;t<e.length;t++){var n=e[t].name.split("."),i=n.pop();switch(i){case"csv":this.parseCSV(e[t]);break;case"tsv":this.parseCSV(e[t]);break;case"json":this.jsonToCSV(e[t]);break;default:alert(i+" is an unsupported file type")}}else alert("File API is not supported - please upgrade your browser")}},parseCSV:{value:function(e,t){"undefined"==typeof t&&(t=e.name),Papa.parse(e,{skipEmptyLines:!0,complete:function(e){for(var n=[],i=e.data[0].length,a=0;i>a;a++)n[a]=[];for(var a=0;a<e.data.length;a++)for(var s=0;i>s;s++)n[s][a]=e.data[a][s];for(var a=0;a<n.length;a++){var r={key:n[a][0],active:!1,file:t,data:n[a]};sessionStorage.setItem(n[a][0],JSON.stringify(r)),sessionStorage.length!=this.fileList.length&&this.fileList.push(r)}}.bind(this)})}},jsonToCSV:{value:function(e){var t=new FileReader;t.readAsText(e),t.onload=function(){var n=Papa.unparse(t.result);this.parseCSV(n,e.name)}.bind(this)}},onDragSuccess:{value:function(e){console.log(e.key),this.toggle(e)}},toggle:{value:function(e){e.active=!e.active,sessionStorage.setItem(e.key,JSON.stringify(e))}}}),e}();i.$inject=["Upload","Shared_Data"],e.exports=i},function(e){"use strict";var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function i(e){t(this,i),this.fileList=e,console.log(this.fileList)};n.$inject=["Shared_Data"],e.exports=n}]),angular.module("conlect").run(["$templateCache",function(e){e.put("app/main/main.html",'<div class="app-container"><div class="aHeader" ng-include="\'components/navbar/navbar.html\'"></div><div class="aSidebar" ng-include="\'components/sidebar/sidebar.html\'"></div><div class="aPreview" ng-include="\'components/preview/preview.html\'"></div></div>'),e.put("components/navbar/navbar.html",'<nav ng-controller="NavbarCtrl as n" class="navbar navbar-default"><div class="navbar-brand">{{n.orgName}}</div><form class="navbar-form"><input id="livefile_name" type="text" placeholder="file name here" ng-model="n.livingFileName" class="form-control"><select id="livefile_type" ng-options="extension for extension in n.extensions" ng-model="n.selectedExtension" class="form-control"></select>{{extension}} <button id="export_button" ng-click="n.download()" class="btn btn-primary pull-right">Export File</button></form></nav>'),e.put("components/preview/preview.html",'<div ng-controller="PreviewCtrl as p" class="col-sm-9 col-md-10 preview"><table st-table="p.fileList" class="table table-bordered table-striped"><thead><tr><th ng-repeat="field in p.fileList track by field.key" ng-if="field.active">{{field.key}}</th></tr></thead><tbody><tr ng-repeat="i in p.fileList[0].data track by $index" ng-if="($index &gt; 0 &amp;&amp; $index &lt; 25)" ng-init="dataIndex = $index"><td ng-repeat="field in p.fileList track by $index" ng-if="field.active">{{field.data[dataIndex]}}</td></tr></tbody></table></div>'),e.put("components/sidebar/navbar.html",'<nav class="navbar navbar-default"><div class="navbar-brand">Conlect</div><form class="navbar-form"><input id="livefile_name" type="text" placeholder="New File" class="form-control"><select id="livefile_type" class="form-control"><option>.csv</option><option>.json</option></select><button class="btn btn-primary pull-right">Download</button></form></nav>'),e.put("components/sidebar/sidebar.html",'<div ng-controller="SidebarCtrl as s" class="col-sm-3 col-md-2 navbar-default sidebar"><div class="sidebar-header"><div ng-model="s.filesIn" ngf-select="" ngf-multiple="true" ngf-change="s.handleFiles(s.filesIn)" class="btn-group btn-group-justified btn btn-primary file-btn">+ Add File</div><div ng-repeat="field in s.fileList track by field.key" class="field-wrapper"><div ng-drag="true" ng-drag-success="s.onDragSuccess(field)" data-allow-transform="false" class="field-name">{{field.key}}<div ng-click="s.toggle(field)" ng-show="field.active" class="remove-field"><span class="glyphicon glyphicon-minus"></span></div><div ng-click="s.toggle(field)" ng-hide="field.active" class="add-field"><span class="glyphicon glyphicon-plus"></span></div></div></div></div></div>')}]);